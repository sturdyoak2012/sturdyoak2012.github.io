<!DOCTYPE html>

<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>Comics</title>
	<link rel="stylesheet" href="lib/css/lightbox.min.css">
		<link rel="shortcut icon" type="image/png" href="favicon.png"/>
	<link rel="stylesheet" href="style.css">
	<link href="lib/css/lightbox.css" rel="stylesheet">
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132703009-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-132703009-1');
</script>

<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-database.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA7-t4UBOoWgYq65D74vbluIwuuDotKlG8",
    authDomain: "jacobnie-4a6fd.firebaseapp.com",
    databaseURL: "https://jacobnie-4a6fd.firebaseio.com",
    projectId: "jacobnie-4a6fd",
    storageBucket: "jacobnie-4a6fd.appspot.com",
    messagingSenderId: "202057575155"
  };
  firebase.initializeApp(config);
</script>

<script>

  var request = new XMLHttpRequest();
  request.open('GET', 'https://ipapi.co/json', true);
  request.onload = function () {
    if (request.status >= 200 && request.status < 400) {
      // Success!
      var data = JSON.parse(request.responseText);
      
        firebase.database().ref("/analytics/").child(btoa(data.ip)).child("visits").once("value").then(function(snapshot) {
        	firebase.database().ref("/analytics/").child(btoa(data.ip)).update({
        		visits:(snapshot.val()||0) + 1,
        		data:data,
				lastVisit:{
	          		page:window.location.pathname,
	          		timestamp:new Date() + ""
	          	}
	        });
	        firebase.database().ref("/analytics/").child(btoa(data.ip)).child("history").push({
	          	page:window.location.pathname,
	          	timestamp:new Date() + ""
	          });
        })
      
    }
  };
  request.onerror = function () {
    // There was a connection error of some sort
  };
  request.send();
</script>
</head>
<body>
<div id="container">
<div id="menu">
	<h1 align="center"> <a href="index.html">Jacob Nie</a> </h1>
	<ul>
		<li><a href="about.html">About</a></li>
		<li><a href="pictures.html">Pictures</a></li>
		<li><a href="outdoors.html">Outdoors</a></li>
		<li><a href="comics.html">Comics</a></li>
		<li><a href="physics.html">physics</a>
		<a href="misc.html">misc.</a></li>
	</ul>
</div>
<div id="page">
	Small collection (Use arrow keys for multi-part comics.)  For the really long strips you should open the link in a new tab, then zoom in if you can't see it well.
	<br><br>
	<ul>
		<li><a href="comics/001.jpg" data-lightbox="001" data-title="League">league</a> (drawn in AP Chinese)</li>
		<li>

			harder than it looked on tv <a href="comics/002a.jpg" data-lightbox="002" data-title="this is harder than it looked on tv">(1)</a><a href="comics/002b.jpg" data-lightbox="002" data-title="this is harder than it looked on tv">(2)</a><a href="comics/002c.jpg" data-lightbox="002" data-title="this is harder than it looked on tv">(3)</a><a href="comics/002d.jpg" data-lightbox="002" data-title="this is harder than it looked on tv">(4)</a><a href="comics/002e.jpg" data-lightbox="002" data-title="this is harder than it looked on tv">(5)</a><a href="comics/002.jpg">(extended)</a> (drawn in AP Calculus)
		</li>
		<li>
			<a href="comics/003.jpg" data-lightbox="003" data-title="Well, shit">F</a> (drawn in World Core Literature)
		</li>
		<li>
			<a href="comics/004.jpg" data-lightbox="004" data-title="Box Life">my mind in school</a> (drawn in World Core Literature)
		</li>
		<li>
			<a href="comics/005.jpg" data-lightbox="005" data-title="basketball">basketball</a> (drawn in AP Calculus)
		</li>
		<li>
			<a href="comics/006.jpg" data-lightbox="006" data-title="League Revisited">league revisited</a>
		</li>
		<li>

			angular momentum <a href="comics/007a.jpg" data-lightbox="007" data-title="angular momentum">(1)</a><a href="comics/007b.jpg" data-lightbox="007" data-title="angular momentum">(2)</a> (drawn in AP Physics C)
		</li>
		<li>
			abort abort <a href="comics/008a.jpg" data-lightbox="008" data-title="abort abort">(1)</a><a href="comics/008b.jpg" data-lightbox="008" data-title="abort abort">(2)</a><a href="comics/008c.jpg" data-lightbox="008" data-title="abort abort">(3)</a><a href="comics/008d.jpg" data-lightbox="008" data-title="abort abort">(4)</a><a href="comics/008e.jpg" data-lightbox="008" data-title="abort abort">(5)</a>

		</li>
		<li>
			<a href="comics/009.jpg" data-lightbox="009" data-title="laundry hooligans">laundry hooligans</a>
		</li>
		<li>
			<a href="comics/010a.png" data-lightbox="010" data-title="pick up your mat!">pick up your mat!</a><a href="comics/010b.png" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010c.png" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010d.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010e.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010f.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010g.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010h.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010i.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010j.jpg" data-lightbox="010" data-title="pick up your mat!"></a><a href="comics/010k.jpg" data-lightbox="010" data-title="pick up your mat!"></a>
		</li>
	</ul>
</div>
<script src="lib/js/jquery.min.js"></script>
<script src="lib/js/lightbox.min.js"></script>
<script>
	lightbox.option({
		albumLabel:"Comic %1 of %2"
	})
</script>
</div>
<script>
	function myFunction() {
  var x = document.getElementById("myLinks");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
}
</script>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<script>
	//Get the button:
mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0; // For Safari
  document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>
</body>

</html>